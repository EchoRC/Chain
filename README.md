# Chain
本项目是根据区块链信息模拟的登陆。目前是java语言，后续会有python语言实现。
根据区块链原理实现分布式数据存储，通过区块链编码技术实现数据加密，数据传递，预构下多个场景应用。
存储模块：Block内存储的是类Sql语句。预先设定好符合业务场景需要的数据库表结构，然后设定好各个节点对表的操作权限（ADD，UPDATE，DELETE），将来各个节点就可以按照自己被允许的权限，进行Sql语句的编写，并打包至Block中，再全网广播，等待全网校验签名、权限等信息的合法性。如果Block合法，则允许生成，生成后再全网广播，各节点拉取新区块。新区块生成后，各节点进行区块内容解析，并落地入库的操作。
网络广播：网络层，采用的是各节点互相长连接、断线重连，然后维持心跳包。网络框架使用的是t-io，也是oschina的知名开源项目。t-io采用了AIO的方式，在大量长连接情况下性能优异，资源占用也很少，并且包含了心跳包、断线重连、retry等优秀功能。在项目中，每个节点即是server，又是client，作为server则被其他的N-1个节点连接，作为client则去连接其他N-1个节点的server。
共识算法：修改pbft算法，设定各个节点是平等的，而且性能要高，不需要选择leader，任何节点都可以构建Block，然后全网广播。其他节点收到该Block请求时即进入Pre-Prepare状态，校验格式、hash、签名、和table的权限，校验通过后，进入Prepare状态，并全网广播状态。待自己累积的各节点Prepare的数量大于2f+1时，进入commit状态，并全网广播该状态。待自己累积的各节点Commit的数量大于2f+1时，认为已达成共识，将Block加入区块链中，然后执行Block中sql语句，进行数据入库。
对区块信息查询，只需要查询数据库即可，提高了效率。
